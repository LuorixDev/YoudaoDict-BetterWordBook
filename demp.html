<style>
.dict-card {
  --fg:#0b0b0b;
  --muted:#475569; /* 调整为深石板灰色，增加色彩层次 */
  font-family:Inter, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
  color:var(--fg);
  max-width:420px;
  margin:0 auto;
  line-height:1.3;
  border:2px dashed #0b0b0b;
  padding:10px;
  box-sizing:border-box;
}

.dict-card .top-row {
  display:flex;
  justify-content:space-between;
  align-items:flex-start;
  margin-bottom:4px;
}

.dict-card .word-col {
  display:flex;
  flex-direction:column;
}

.dict-card .word {
  font-weight:900;
  font-size:18px;
  text-decoration:underline wavy #0b0b0b;
  margin-bottom:2px;
}

.dict-card .ipa {
  font-family:SFMono-Regular,Menlo,monospace;
  color:var(--muted);
  font-size:13px;
  display:flex;
  flex-direction:column;
  margin-bottom:2px;
}

.dict-card .difficulty {
  background:#f3f4f6;
  font-size:12px;
  font-weight:bold;
  margin-top:2px;
  padding:2px 4px; /* 减小左右内边距 */
  border-radius:999px;
  display:inline-block;
}

.dict-card .difficulty span {
  display:inline-block;
}

.dict-card .difficulty .filled-star {
  color:#D97706; /* 打印友好的琥珀色 */
}

.dict-card .difficulty .empty-star {
  color:#d1d5db; /* 浅灰色，用于空星 */
}

.dict-card .meaning-col {
  flex:1;
  margin-left:10px;
  font-size:13px;
}

.dict-card .pos {
  background:#f3f4f6;
  color:var(--muted);
  padding:2px 6px;
  border-radius:999px;
  font-size:12px;
  display:inline-block;
  margin-bottom:4px;
  min-width:30px;
  text-align:center;
}

.dict-card .meaning {
  margin-bottom:2px;
}

.dict-card .root {
  font-size:12px;
  color:var(--muted);
  margin-bottom:4px;
}

.dict-card .section {
  margin-top:6px;
  padding-top:4px;
  border-top:2px dashed #0b0b0b;
}

.dict-card .section-title {
  font-weight:800;
  font-size:12px;
  margin-bottom:2px;
}

.dict-card .examples {
  display:flex;
  flex-wrap:wrap;
  gap:8px; /* 示例间距 */
  font-size:12px;
  color:#374151;
}

.dict-card .example-item {
  flex:0 1 auto;
  display:inline-block;
  padding:2px 4px;
  position:relative;
}


.dict-card .example-item .zh {
  display:block;
  margin-top:2px;
  color:var(--muted);
  font-size:12px;
}

.dict-card .note {
  margin-top:4px;
  font-size:12px;
  color:var(--muted);
  padding-top:4px;
  border-top:2px dashed #0b0b0b;
  font-weight:bold;
}
</style>

<div class="dict-card">
  <div class="top-row">
    <div class="word-col">
      <div class="word">auxiliary</div>
      <div class="ipa">
        <span>英 /ɔːɡˈzɪl.i.əri/</span>
        <span>美 /ɔːɡˈzɪl.i.er.i/</span>
      </div>
      <div class="difficulty"><span class="filled-star">★</span><span class="filled-star">★</span><span class="filled-star">★</span><span class="empty-star">★</span><span class="empty-star">★</span>中等</div>
    </div>
    <div class="meaning-col">
      <div class="pos">adj. / n.</div>
      <div class="meaning">adj. 辅助的；非主要的<br>n. 辅助设备；辅助人员</div>
      <div class="root">词根拆解: aux- (增加, 帮助) + -iliary (形容词后缀 / 名词后缀)</div>
    </div>
  </div>

  <div class="section">
    <div class="section-title">近义词</div>
    <div class="examples">
      <div class="example-item">supporting (辅助的)</div>
      <div class="example-item">supplementary (补充的)</div>
      <div class="example-item">secondary (次要的)</div>
    </div>
  </div>

  <div class="section">
    <div class="section-title">用法示例</div>
    <div class="examples">
      <div class="example-item">She works as an auxiliary teacher in the school.<span class="zh">她在学校担任辅助教师。</span></div>
      <div class="example-item">The hospital has an auxiliary generator for power outages.<span class="zh">这家医院配备了一台备用发电机以应对停电。</span></div>
      <div class="example-item">auxiliary verb<span class="zh">助动词</span></div>
      <div class="example-item">auxiliary power<span class="zh">辅助动力</span></div>
      <div class="example-item">auxiliary equipment<span class="zh">辅助设备</span></div>
      <div class="example-item">auxiliary staff<span class="zh">辅助人员</span></div>
    </div>
  </div>

  <div class="note">特别提示: 记住：auxiliary 常用于描述“帮忙的”或“备用的”角色，如助动词、备用电源。</div>
</div>

<script>
function updateSeparators() {
  document.querySelectorAll('.dict-card .examples').forEach(container => {
    // 首先，清除所有已存在的分割线，以防重复添加
    container.querySelectorAll('.example-item-separator').forEach(sep => sep.remove());

    const items = container.querySelectorAll('.example-item');
    if (items.length < 2) {
      return;
    }

    let lastItemTop = items[0].offsetTop;

    for (let i = 1; i < items.length; i++) {
      const currentItem = items[i];
      const currentItemTop = currentItem.offsetTop;

      // 如果当前项与前一项的垂直位置相同，则它们在同一行
      if (currentItemTop === lastItemTop) {
        // 在当前项的左侧添加分割线
        const separator = document.createElement('div');
        separator.className = 'example-item-separator';
        separator.style.position = 'absolute';
        separator.style.left = '-5px'; // 调整位置以适应边框
        separator.style.top = '0';
        separator.style.bottom = '0';
        separator.style.borderLeft = '2px dashed #0b0b0b'; // 使用虚线边框
        currentItem.appendChild(separator);
      }

      lastItemTop = currentItemTop;
    }
  });
}

// 使用 ResizeObserver 监视卡片大小变化，性能优于 'resize' 事件
const card = document.querySelector('.dict-card');
if (card) {
  const observer = new ResizeObserver(() => {
    updateSeparators();
  });
  observer.observe(card);
}

// 在页面加载完成后立即运行一次
document.addEventListener('DOMContentLoaded', updateSeparators);
</script>
